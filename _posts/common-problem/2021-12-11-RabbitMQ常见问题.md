---
layout: post
title: RabbitMQ常见问题
category: FAQ
keywords: RabbitMq
---
## 常见问题
### 什么是MQ
* MQ就是消息队列,是软件和软件进行通信的中间件产品

### MQ的优点
* 异步处理:相比于传统的串行,并行方式,提高了系统吞吐量
* 应用解耦:系统间通过消息通信,不用关心其他系统的处理
* 流量削峰:可以通过消息队列长度控制请求量;可以缓解短时间内的高并发请求
* 日志处理:解决大量日志传输
* 消息通讯:消息队列一般都内置了高效的通信机制,因此可以用在纯消息通讯,如点对点消息队列,或者聊天等

### 消息队列有什么缺点
* 系统可用性降低:系统加入消息队列后,若消息队列挂掉,则系统可用性降低
* 系统复杂度提高:加入消息队列,需要考虑很多方面的问题,如一致性问题,保证消息不被重复消费,可靠投递消息

### MQ有哪些常见问题?如何解决
* 消息的顺序问题:从业务层面来保证消息的顺序
* 消息的重复问题:保持消费端的幂等性

### 什么是RabbitMQ
* 一款开源,Erlang编写的,消息中间件;解耦,异步,削峰

### RabbitMQ使用场景
* 服务间异步通信
* 顺序消费
* 定时任务
* 请求削峰

### RabbitMQ基本概念
* Broker:消息队列服务器实体
* Exchange:消息交换机,指定消息按什么规则,路由到哪个队列
* Queue:消息队列的载体,每个消息都会被投递到一个或多个队列
* Binding:绑定,将Exchange和Queue按照路由规则绑定
* Routing Key:路由关键字,Exchange根据关键字进行消息投递
* VHost:可以理解为虚拟Broker
* Producer:消息生产者,投递消息
* Consumer:消息消费者,接受消息
* Channel:消息通道,在客户端的每个连接里,可建立多个channel,每个channel代表一个会话任务

### RabbitMQ的工作模式
* simple模式:即最简单的收发模式
* work工作模式:资源的竞争
* publish/subscribe发布订阅:共享资源
* routing路由模式
* topic主题模式:路由模式的一种

### 如何保证RabbitMQ消息的顺序性
* 拆分多个queue,每个queue一个consumer
* 一个queue对应一个consumer,consumer内部用内存队列做排序,然后处理

### 消息如何分发
* 通过路由可实现多消费的功能

### 消息怎么路由

